{% extends "base.html" %}
{% block content %}
<h4> {{ name }}'s Game </h4>

<div class="PlayaList BullyList">
    <div class="pbuttons">
        {% for player in bully %}
        <div class="PlayaButton" onclick="showContainer({{player.nameid}})">
            <img src="{{player.image}}"></img>
            <img src="{{url_for('static', filename=player.league.split()[0] + ".png")}}" alt="{{player.league}}"></img>
        </div>

        {% endfor %}

    </div>
    <hr>
    <div class="infoData">
        {% for player in bully + friend %}
        <div class="pcard" id="{{player.nameid}}">
            <div class="splash">
            <img src="{{player.splash}}"></img>
            </div>
            <div class="title">
                <h6>{{player.champ}}</h6>
                <h8>{{player.summoner}}</h8>
                <div class="summonerspells">
                    <img src={{player.Fkey.image}}></img>
                    <img src={{player.Dkey.image}}></img>
                </div>
                <div class="pcardmenu">
                    <ul>
                        <li><a onclick="showMore({{player.nameid}}, 'runes')"> Runes </a></li>
                        <li> <a onclick="showMore({{player.nameid}}, 'masteries')"> Masteries </a></li>
                        <li> <a onclick="showMore({{player.nameid}}, 'spells')"> Spells </a></li>

                        <li> <a onclick="showMore({{player.nameid}}, 'notes')"> Notes </a></li>
                    </ul>

                </div>



            </div>
            <div class="moreinfo moredata" id="{{player.nameid + 'runes'}}">
                {% for rune in player.runes %}
                <div class="runeBlock">
                    <img src="{{rune.image}}"></img>
                    {{rune.desc}}
                </div>
                {% endfor %}

            </div>

            <div class="moreinfo" id="{{player.nameid + 'masteries'}}">
                {% for m in player.masteries %}
                <div class="mblock">
                    <div class="mimg">
                    <img src="{{m.image}}"> </img>
                    </div>
                    <div class="mdesc">
                        <h7> {{m.name}}</h7><br>
                    {{m.desc}}
                    </div>
                </div>
                {% endfor %}

            </div>
            <div class="moreinfo morenotes actuallynotes" id="{{player.nameid + 'notes'}}">
                <div class="note">
                    <ul>
                {% for note in player.tips %}
                <li>{{note}}</li>
                {% endfor %}
                    </ul>

                </div>

            </div>

            <div class="moreinfo morenotes" id="{{player.nameid + 'spells'}}">
                <div class="spellblock">
                    <div class="spellimg">
                    <img src="{{player.passive.image}}"></img>
                    </div>
                    <div class="spelldesc">
                    {{player.passive.desc}}<br>
                    {{player.passive.cooldown}}
                    </div>
                </div>
                {% for s in player.spells %}
                <div class="spellblock">
                    <div class="spellimg">
                    <img src="{{s.image}}"></img>
                    </div>
                    <div class="spelldesc">
                        {{s.desc}} <br>
                    {{s.cooldown}}
                    </div>
                </div>
                {% endfor %}

            </div>




            <div class="champmastery">
                <img src="{{url_for('static', filename='Champ%d.png' % player.champMastery)}}"></img>
            </div>

        </div>

        {% endfor %}

    </div>
    <hr>
    <div class="pbuttons">
        {% for player in friend %}
        <div class="PlayaButton" onclick="showContainer({{player.nameid}})">
            <img src="{{url_for('static', filename=player.league.split()[0] + ".png")}}" alt="{{player.league}}"></img>

            <img src="{{player.image}}"></img>
        </div>

        {% endfor %}

    </div>


</div>


<script>
var showContainer = function(name) {
    var c = document.getElementById(name);
    var x = c.style.display == 'none' || !c.hasAttribute("style");
    var elements = document.getElementsByClassName("pcard");
    for (let i = 0; i < elements.length; i++) {
        elements[i].style.display = "none";
    }
    if (x) {
        c.style.display = 'grid';
    } 
}

var showMore = function(name, tab) {
    var c = document.getElementById(name + tab);
    console.log(c);
    var elements = document.getElementsByClassName("moreinfo");
    console.log(elements);
    for (let i = 0; i < elements.length; i++) {
        elements[i].style.display = "none";
    }
    c.style.display = "grid";
}
</script>

{% endblock %}
